extends ../../layouts/layout_min

block content
	div(data-ng-app="homeApp" data-ng-controller="homeController as home")
		// views will be injected here
		.container
			.row
				#form-container
					.page-header.text-center
						h1 EDITOR DE FICHAS
					div.row
						div.col-md-3
							a(href="/new")
								button.btn.btn-success(type="button")
									| CREAR UNA NUEVA FICHA	
						div.col-md-9
							form(data-ng-submit="search()")
								div.input-group
									input.form-control(type="search" name="q" x-webkit-speech data-ng-model="searchT" placeholder="Buscar las fichas del creador..." required)
									span.input-group-btn
										button.btn.btn-default(type="submit")
											i.glyphicon.glyphicon-search
						
					div.divider
					div.row
						div.panel.panel-primary.filterable
							div.panel-heading
								h3.panel-title Fichas
								button.btn.btn-default.btn-xs.btn-filter.pull-right
									span.glyphicon.glyphicon-filter Filtro
								

							table.table(data-ng-table="tableParams")
								thead
									tr.filters
										th
											input.form-control(type="text" placeholder="Id" disabled)
										th
											input.form-control(type="text" placeholder="Taxon" disabled)
										th
											input.form-control(type="text" placeholder="Creador" disabled)
								tbody
									tr(data-ng-repeat="field in $data track by field._id")
										td 
											a(href="/edit?id={{field._id}}")
												| {{field._id}}
										td
											{{field.taxonRecordName.scientificName.simple}}
										td
											.selected-item(data-ng-repeat='associatedParty in field.associatedParty')
												| {{associatedParty.firstName}}-{{associatedParty.lastName}}
										
				
					
